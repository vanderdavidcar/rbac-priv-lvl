# Disclaimer
I'm not a dev yet, this is NOT fancy code. It does work (for me at least!) though. You can seriously mess up your producition environment with my scripts if you don't know what you're doing. I take no responsibility for that :)</br>

## Restrict access for users with RBAC or Privilege Level on IOS, NXOS and OS10

For users in your network environment do not authenticate on TACACS or some platform that provides security policy management to secure network access for end users and devices.

This is a way to protect your environment if you suffering a brute force ou creadentials leaking

I did this code to create a RBAC and minimum Privilege Level and <https://github.com/vanderdavidcar/delete-local-users> to check different users that can be removed in a daily basis with a jobs task.

## .env

To protect credentials leaking, create a .env file with variables that will be used to connect on devices (USER_LAB/PASS_LAB).

## net_conn.py

A module imported in files ".py" which needed a credentials to connect on devices.

## auth_vars.yml

It is a yaml file that has users and passwords variable using in jinja2 templates</br>

## create_scripts.py

After running tthe file will be create scripts .cfg to put into send_config.py
Using jinja2 templates which contains scripts to create RBAC on NXOS and Privilege Level 7 on IOS and OS 10 (Dell).</br>
Services users doesn't need full permissions to access device network

Note:
To fulfill oxidized needs I had to do a workround for task works properly. I had to create an alias "show-running-config" to collect backup correctly.

## send_config.py

There are three functions (dev_conn_nxos, dev_conn_ios and dev_conn_dellos10) to connect on devices according software model. I am using method send_config_from_file() to set RBAC and privilege level on devices generated by create_scripts.py that have pattern name "rbac_{model}.cfg".</br>
After configuration, I'm using method send_command() to check if users were created with the correct role and privilege level
